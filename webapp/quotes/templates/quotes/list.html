<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quotes Library</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
          rel="stylesheet">
</head>

<body class="bg-light">

<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <span class="navbar-brand mb-0 h1">ðŸ“œ Quotes Library</span>
    </div>
</nav>

<div class="container">

    <div class="row mb-4">
        <div class="col-md-6">
            <input type="text"
                   id="searchInput"
                   class="form-control"
                   placeholder="Search by quote or author...">
        </div>
    </div>

    <div class="row" id="quotesContainer">
        {% for q in quotes %}
        <div class="col-md-6 col-lg-4 mb-4 quote-card">
            <div class="card h-100 shadow-sm">
                <div class="card-body d-flex flex-column">

                    <p class="card-text fst-italic">
                        {{ q.quote }}
                    </p>

                    <h6 class="mt-3 mb-1 text-primary">
                        â€” {{ q.author }}
                    </h6>

                    <p class="text-muted small mb-2">
                        Tags: {{ q.tags }}
                    </p>

                    <div class="mt-auto">
                        <a href="{{ q.author_profile }}"
                           target="_blank"
                           class="btn btn-outline-primary btn-sm">
                            View Author Profile
                        </a>
                    </div>

                </div>
            </div>
        </div>
        {% endfor %}
    </div>

</div>

<script>
    const searchInput = document.getElementById("searchInput");
    const cards = document.querySelectorAll(".quote-card");

    searchInput.addEventListener("keyup", function () {
        const value = this.value.toLowerCase();

        cards.forEach(card => {
            const text = card.innerText.toLowerCase();
            card.style.display = text.includes(value) ? "" : "none";
        });
    });
</script>

</body>
</html>
